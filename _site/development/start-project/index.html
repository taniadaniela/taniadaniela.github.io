<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Creating an app with Preact, Typescript and Parcel</title>
    <meta name="description" content="If you have been coding in the JS ecosystem for a while you’re probably familiarwith Webpack and React, but this post is not about them :troll:Instead this p...">
    <link rel="icon" href="/assets/images/favicon.png">
    <link rel="canonical" href="http://localhost:4000/development/start-project/" />
    <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml" />

    <link rel="stylesheet" href="/assets/css/application.css" />
    <link rel="stylesheet" href="/assets/css/prism.css" />
</head>
<body>
  <div class="container">
    <nav class="navbar">
      <div class="navbar-brand">
        <a href="/" class="navbar-item">
        Tania Paiva
        </a>
        
        <a href="https://github.com/taniadaniela" class="navbar-item is-hidden-desktop">
        <span class="icon">
            <i class="fa fa-github"></i>
        </span>
        </a>
        
        
        <a href="mailto:taniadaniela1803@mail.com" class="navbar-item is-hidden-desktop">
        <span class="icon">
            <i class="fa fa-envelope-o"></i>
        </span>
        </a>
        
        
        
        
        <a href="https://instagram.com/taniadaniela18" class="navbar-item is-hidden-desktop">
        <span class="icon">
            <i class="fa fa-instagram"></i>
        </span>
        </a>
        
        
        <div class="navbar-burger burger" data-target="navMenubd-main">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <div id="navMenubd-main" class="navbar-menu">
        <div class="navbar-start">
          <a href="/" class="navbar-item ">
          Blog
          </a>
          <a href="/categories" class="navbar-item ">
          Categories
          </a>
        </div>
        <div class="navbar-end">
          
          <a href="https://github.com/taniadaniela" class="navbar-item is-hidden-desktop-only">
          <span class="icon">
              <i class="fa fa-github"></i>
          </span>
          </a>
          
          
          <a href="mailto:taniadaniela1803@mail.com" class="navbar-item is-hidden-desktop-only">
          <span class="icon">
              <i class="fa fa-envelope-o"></i>
          </span>
          </a>
          
          
          
          
          <a href="https://instagram.com/taniadaniela18" class="navbar-item is-hidden-desktop-only">
          <span class="icon">
              <i class="fa fa-instagram"></i>
          </span>
          </a>
          
          
          </div>
        </div>
      </div>

    </nav>
  </div>

<section class="hero is-primary">
    <div class="hero-body">
        <div class="container is-fluid">
            <h1 class="title">
                Creating an app with Preact, Typescript and Parcel
            </h1>
            <h2 class="subtitle">
                
            </h2>
        </div>
    </div>
</section>
<section class="section">
    <div class="container is-fluid">
        <div class="content">
            <p>If you have been coding in the JS ecosystem for a while you’re probably familiar
with Webpack and React, but this post is not about them :troll:
Instead this post is about creating an app with <a href="https://preactjs.com/">Preact</a>,
<a href="https://www.typescriptlang.org/">Typescript</a> and <a href="https://parceljs.org/">Parcel</a>.</p>

<h3 id="but-why">But, why?</h3>
<p>Good question, the reason because I’ve chosen these tools is because I wanted a lightweight
app without too much configuration (that’s why Parcel and Preact) and I wanted to dive into
the static checking and typing world that Typescript provides. And plus to those reasons I’m
a developer, I like trying new technologies and having an opinion with a background to
support it.</p>

<h3 id="lets-get-into-the-technology">Let’s get into the technology</h3>
<p>First we need nodeJS, I like to use <a href="https://github.com/asdf-vm/asdf">asdf version manager</a>.<br />
Install <a href="https://github.com/asdf-vm/asdf-nodejs.git">asdf nodeJS plugin</a>: <code class="highlighter-rouge">asdf plugin-add nodejs</code></p>

<p>Now we can go ahead and create the app folder:<br />
<code class="highlighter-rouge">mkdir your_app</code><br />
<code class="highlighter-rouge">cd your_app</code><br />
<code class="highlighter-rouge">npm init</code></p>

<p>With <code class="highlighter-rouge">npm init</code> we’ll get two important files, <code class="highlighter-rouge">package.json</code> and <code class="highlighter-rouge">package-lock.json</code>. These files will
contain the dependencies.</p>

<p>Add parcel, preact and typescript to the dependencies: <br />
<code class="highlighter-rouge">npm i typescript@next preact parcel-bundler ts-loader --save</code>.</p>

<p>Your <code class="highlighter-rouge">package.json</code> will look similar to this:</p>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"y"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"you"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"preact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^10.4.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ts-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^7.0.4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^4.0.0-dev.20200514"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"parcel-bundler"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.12.4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.26.5"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<p>The <code class="highlighter-rouge">package-lock.json</code> will get auto populated, don’t edit it directly.</p>

<h4 id="typescript-config">Typescript config</h4>
<p>You will need a tsconfig.json to indicate typescript configuration :</p>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"outDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./dist"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sourceMap"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"noImplicitAny"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jsx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jsxFactory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"./src/**/*"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<p>This file indicates you have a <code class="highlighter-rouge">dist</code> folder for the compiled files and <code class="highlighter-rouge">src</code> folder for the source files, so don’t forget to create those folders (or use the names you like).</p>

<h4 id="parcel-config">Parcel config</h4>
<p>You will need an index.html entry point:</p>
<div class="language-html highlighter-rouge"><pre class="highlight"><code>
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span>
      <span class="na">content=</span><span class="s">"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"ie=edge"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Your App Name<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>

  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"root"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"src/index.tsx"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>
<p>In this file the src for the script is the main file in your src folder, in my case <code class="highlighter-rouge">src/index.tsx</code>.</p>

<p>And we need the parcel scripts to start and build our app, in <code class="highlighter-rouge">package.json</code> in the scripts section add:</p>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"scripts"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parcel index.html"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parcel build index.html"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>
</div>

<h4 id="sample-files">Sample files</h4>
<p>We need a HelloWorld component, src/HelloWorld.tsx:</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">h</span><span class="p">,</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'preact'</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">interface</span> <span class="nx">HelloWorldProps</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">HelloWorld</span> <span class="kr">extends</span> <span class="nx">Component</span><span class="o">&lt;</span><span class="nx">HelloWorldProps</span><span class="p">,</span> <span class="nx">any</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">!&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>
<p>And we’ll use that in our src/index.tsx main file:</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">h</span><span class="p">,</span> <span class="nx">render</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'preact'</span><span class="p">;</span>
<span class="c1">//import './styles.scss'; //if you have styles</span>
<span class="kr">import</span> <span class="nx">HelloWorld</span> <span class="nx">from</span> <span class="s1">'./HelloWorld'</span><span class="p">;</span>

<span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HelloWorld</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"world"</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#root'</span><span class="p">));</span>
</code></pre>
</div>

<p>Now we are ready to hit <code class="highlighter-rouge">npm start</code> and have our app displayed on the browser.</p>


        </div>
    </div>
</section>

<div class="section">
    <div class="container is-fluid">

        
        <div class="box">
            <div class="media">
                <div class="media-left">
                    <figure class="image is-64x64">
                        <img src="/assets/images/author.jpg" alt="Tania Paiva">
                    </figure>
                </div>
                <div class="media-content">
                    <div class="content">
                        <p>
                            <strong>Tania Paiva</strong>
                            <br>
                            Software engineer working remotely with JS, Ruby and Elixir.
                        </p>
                    </div>
                    <p>
                        
                        <a href="https://github.com/taniadaniela18">
                                <span class="icon is-small">
                                    <i class="fa fa-github"></i>
                                </span>
                        </a>
                        
                        
                        
                        
                        
                    </p>
                </div>
            </div>
        </div>
        

        
    </div>
</div>

<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                Theme: <strong><a href="https://github.com/erayaydin/jekyll-bulma">Jekyll Bulma</a></strong> by <a href="http://github.com/erayaydin">Eray Aydın</a>. The source code is licensed
                <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The website content
                is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC ANS 4.0</a>.
            </p>
            <p>
                
                <a class="icon" href="https://github.com/taniadaniela">
                    <i class="fa fa-github"></i>
                </a>
                
                
                <a class="icon" href="mailto:taniadaniela1803@mail.com">
                    <i class="fa fa-envelope-o"></i>
                </a>
                
                
                
                
                <a class="icon" href="https://instagram.com/taniadaniela18">
                    <i class="fa fa-instagram"></i>
                </a>
                
                
            </p>
        </div>
    </div>
</footer>
<script src="/assets/js/main.js"></script>
<script src="/assets/js/jquery-3.1.1.min.js"></script>
<script src="/assets/js/prism.js"></script>
<script>
    $('.nav-toggle').bind('click', function(){
        var menus = $(this).siblings(".nav-menu");
        if(menus.hasClass('is-active')){
            menus.removeClass('is-active');
        } else {
            menus.addClass('is-active');
        }
    });
</script>
<script>
(function() {
    var d = document, s = d.createElement('script');
    s.src = '//aydineray.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
</body>
</html>
